{"version":3,"file":"component---src-pages-index-tsx-09d7f350d8d8e3bdb8bd.js","mappings":"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","sources":["webpack://site/./src/pages/index.tsx"],"sourcesContent":["import { useContext } from 'react';\nimport styled from 'styled-components';\nimport { MetamaskActions, MetaMaskContext } from '../hooks';\nimport {\n  connectSnap,\n  getSnap,\n  // sendHello,\n  shouldDisplayReconnectButton,\n} from '../utils';\nimport {\n  ConnectButton,\n  InstallFlaskButton,\n  ReconnectButton,\n  SendHelloButton,\n  Card,\n} from '../components';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 1;\n  margin-top: 7.6rem;\n  margin-bottom: 7.6rem;\n  ${({ theme }) => theme.mediaQueries.small} {\n    padding-left: 2.4rem;\n    padding-right: 2.4rem;\n    margin-top: 2rem;\n    margin-bottom: 2rem;\n    width: auto;\n  }\n`;\n\nconst Heading = styled.h1`\n  margin-top: 0;\n  margin-bottom: 2.4rem;\n  text-align: center;\n`;\n\nconst Span = styled.span`\n  color: ${(props) => props.theme.colors.primary.default};\n`;\n\nconst Subtitle = styled.p`\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 0;\n  ${({ theme }) => theme.mediaQueries.small} {\n    font-size: ${({ theme }) => theme.fontSizes.text};\n  }\n`;\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  max-width: 64.8rem;\n  width: 100%;\n  height: 100%;\n  margin-top: 1.5rem;\n`;\n\nconst Notice = styled.div`\n  background-color: ${({ theme }) => theme.colors.background.alternative};\n  border: 1px solid ${({ theme }) => theme.colors.border.default};\n  color: ${({ theme }) => theme.colors.text.alternative};\n  border-radius: ${({ theme }) => theme.radii.default};\n  padding: 2.4rem;\n  margin-top: 2.4rem;\n  max-width: 60rem;\n  width: 100%;\n\n  & > * {\n    margin: 0;\n  }\n  ${({ theme }) => theme.mediaQueries.small} {\n    margin-top: 1.2rem;\n    padding: 1.6rem;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  background-color: ${({ theme }) => theme.colors.error.muted};\n  border: 1px solid ${({ theme }) => theme.colors.error.default};\n  color: ${({ theme }) => theme.colors.error.alternative};\n  border-radius: ${({ theme }) => theme.radii.default};\n  padding: 2.4rem;\n  margin-bottom: 2.4rem;\n  margin-top: 2.4rem;\n  max-width: 60rem;\n  width: 100%;\n  ${({ theme }) => theme.mediaQueries.small} {\n    padding: 1.6rem;\n    margin-bottom: 1.2rem;\n    margin-top: 1.2rem;\n    max-width: 100%;\n  }\n`;\n\nconst Index = () => {\n  const [state, dispatch] = useContext(MetaMaskContext);\n\n  const handleConnectClick = async () => {\n    try {\n      await connectSnap();\n      const installedSnap = await getSnap();\n\n      dispatch({\n        type: MetamaskActions.SetInstalled,\n        payload: installedSnap,\n      });\n    } catch (e) {\n      console.error(e);\n      dispatch({ type: MetamaskActions.SetError, payload: e });\n    }\n  };\n\n  const handleSendHelloClick = async () => {\n    try {\n      // await sendHello();\n      const [from] = (await window.ethereum.request({\n        method: 'eth_requestAccounts',\n      })) as string[];\n\n      if (!from) {\n        throw new Error('No account selected');\n      }\n\n      await window.ethereum.request({\n        method: 'eth_sendTransaction',\n        params: [\n          {\n            from,\n            to: '0x0000000000000000000000000000000000000000',\n            value: '0x00',\n            data: '0x1',\n          },\n        ],\n      });\n    } catch (e) {\n      console.error(e);\n      dispatch({ type: MetamaskActions.SetError, payload: e });\n    }\n  };\n\n  return (\n    <Container>\n      <Heading>\n        <div> Welcome to SSS</div>\n        <div>\n          <Span>Secure Semantic Snap</Span>\n        </div>\n      </Heading>\n      <Subtitle style={{ width: '60vw', textAlign: 'center' }}>\n        A MetaMask Snap that semantically understands the target contract\n        bytecode of the transaction signed to save the user from malicious smart\n        contracts.\n      </Subtitle>\n      <CardContainer\n        style={{ display: 'flex', justifyContent: 'center', padding: '2rem' }}\n      >\n        {state.error && (\n          <ErrorMessage>\n            <b>An error happened:</b> {state.error.message}\n          </ErrorMessage>\n        )}\n        {!state.isFlask && (\n          <Card\n            content={{\n              title: 'Install',\n              description:\n                'Snaps is pre-release software only available in MetaMask Flask, a canary distribution for developers with access to upcoming features.',\n              button: <InstallFlaskButton />,\n            }}\n            fullWidth\n          />\n        )}\n        {!state.installedSnap && (\n          <ConnectButton\n            onClick={handleConnectClick}\n            disabled={!state.isFlask}\n          />\n        )}\n        {shouldDisplayReconnectButton(state.installedSnap) && (\n          <ReconnectButton\n            onClick={handleConnectClick}\n            disabled={!state.installedSnap}\n          />\n        )}\n      </CardContainer>\n    </Container>\n  );\n};\n\nexport default Index;\n"],"names":["Container","styled","displayName","componentId","theme","mediaQueries","small","Heading","Span","props","colors","primary","default","Subtitle","fontSizes","large","text","CardContainer","ErrorMessage","background","alternative","border","radii","error","muted","useContext","MetaMaskContext","state","dispatch","handleConnectClick","_context","connectSnap","getSnap","installedSnap","type","MetamaskActions","payload","console","_jsxs","children","_jsx","style","width","textAlign","display","justifyContent","padding","message","isFlask","Card","content","title","description","button","InstallFlaskButton","fullWidth","ConnectButton","onClick","disabled","shouldDisplayReconnectButton","ReconnectButton"],"sourceRoot":""}